(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{360:function(s,t,a){"use strict";a.r(t);var n=a(0),l=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p"),a("p"),a("p"),a("p"),a("p",[s._v("Valine 诞生于2017年8月7日，是一款基于"),a("a",{attrs:{href:"https://leancloud.cn/",target:"_blank"}},[s._v("Leancloud")]),s._v("的快速、简洁且高效的无后端评论系统。")]),a("p",[s._v("其特性是开源、快速、安全、表情、Markdown、无后端，可以快速接入，但也缺少一些功能，"),a("a",{attrs:{href:"https://github.com/DesertsP/Valine",target:"_blank"}},[s._v("这里")]),s._v("是一个他人fork的版本，修复、增加了许多功能，此增强版本文档"),a("a",{attrs:{href:"https://deserts.io/diy-a-comment-system/",target:"_blank"}},[s._v("在这")]),s._v("。")]),a("p",[s._v("更多介绍参见官方文档："),a("a",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{href:"https://valine.js.org/"}},[s._v("https://valine.js.org")])]),a("p",[s._v("本文只说源valine，增强版我试了一次但有点问题，而且我只是要一个简单评论。")]),a("p",[a("br")]),a("p",[a("b",[s._v("1. 快速开始")])]),a("p",[s._v("    1.1 请参照官方快速开始文档："),a("a",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{href:"https://valine.js.org/quickstart.html"}},[s._v("https://valine.js.org/quickstart.html")])]),a("p",[s._v("    1.2 以上，请注意一个，在leancloud应用设置-安全中心-Web安全域名，此处要设置好。")]),a("p",[s._v("    1.3 一个最小的示例：")]),a("pre",{staticStyle:{"max-width":"100%"}},[a("code",{staticClass:"html hljs xml",attrs:{codemark:"1"}},[a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("html")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("head")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("meta")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("lang")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"utf-8"')]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("head")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("body")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-comment"},[s._v("\x3c!--valine评论系统--\x3e")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("id")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"valine-comments"')]),s._v(">")]),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-comment"},[s._v("\x3c!--valine评论系统--\x3e")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("src")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"//cdn1.lncld.net/static/js/3.0.4/av-min.js"')]),s._v(">")]),a("span",{staticClass:"undefined"}),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("src")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"//unpkg.com/valine/dist/Valine.min.js"')]),s._v(">")]),a("span",{staticClass:"undefined"}),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("type")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"text/javascript"')]),s._v(">")]),a("span",{staticClass:"javascript"},[s._v("\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Valine({\n            el: "),a("span",{staticClass:"hljs-string"},[s._v("'#valine-comments'")]),s._v(",\n            appId: "),a("span",{staticClass:"hljs-string"},[s._v("'你注册的应用的APPID'")]),s._v(",\n            appKey: "),a("span",{staticClass:"hljs-string"},[s._v("'你注册的应用的APPKEY'")]),s._v(",\n            path: "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".location.href,\n            notify: "),a("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(",\n            verify: "),a("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(",\n            avatar: "),a("span",{staticClass:"hljs-string"},[s._v("''")]),s._v(",\n            placeholder: "),a("span",{staticClass:"hljs-string"},[s._v("'老司机来一发吧 O(∩_∩)O~~'")]),s._v("\n        });\n    ")]),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("body")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("html")]),s._v(">")])])]),a("p",[a("b",[a("br")])]),a("p",[a("b",[s._v("2.  新评论提醒"),a("br")])]),a("p",[s._v("    2.1 valine有回复邮件提醒，但限制极大，而且验证码反人类，当然上面说的增强版有一个"),a("a",{attrs:{href:"https://github.com/DesertsP/Valine-Admin",target:"_blank"}},[s._v("valine-admin")]),s._v("完善了邮件提醒，但无所谓，因为我说的不是这个。")]),a("p",[s._v("    2.2 我说的是：有用户新评论了一条（包括回复），即数据库中增加了评论数据时，发送给站长邮件提醒。")]),a("p",[s._v("    2.3 是的，不晓得大家怎么想，有时候用户评论，站长（比如我），本着热心助人的心情（闲着没事），尽量快的响应评论，并且还想知道有了新评论。")]),a("p",[s._v("    2.4 所以，我用python写了个小脚本，比较暴力地分析leancloud后端存储的评论数据，定时请求，新旧对比，以发现新评论。")]),a("p",[a("font",{attrs:{color:"#ff0000"}},[s._v("    2.5 脚本地址："),a("a",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{href:"https://satic.cn/valine_comment_reminder",target:"_blank"}},[s._v("https://satic.cn/valine_comment_reminder")])])],1),a("p",[s._v("    2.6 使用方法：")]),a("p",[s._v("        2.6.1 Windows下，可以使用计划任务，每几分钟执行一次，不过需要安装python2.7环境（当然可以把脚本编译成exe可执行文件，就不需要python环境了）。")]),a("p",[s._v("        2.6.2 Linux下，好吧，完美，使用crontab即可，更多说明可以在脚本地址中查看。")]),a("p",[s._v("        2.6.3 其他操作系统，还真没用过"),a("img",{attrs:{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/15/j_thumb.gif"}}),s._v("，不过只需要支持python2.7环境，定时执行应该没问题。")]),a("p",[s._v("    2.7 提醒效果：")]),a("p",[a("img",{staticStyle:{"max-width":"100%"},attrs:{src:"https://github.com/staugur/scripts/raw/master/valine_comment_reminder/valine_comment_reminder.png"}})]),a("p",[s._v("    2.8 备注：")]),a("p",[s._v("        - 目前只能使本地跑，需要配置邮件服务，比如QQ、163、腾讯企业邮箱等；")]),a("p",[s._v("        - 看需求，可以放到"),a("a",{attrs:{href:"https://open.saintic.com",target:"_blank"}},[s._v("https://open.saintic.com")]),s._v("中，用户提供appid、appkey即可，请求任务交给系统。")]),a("p",[a("br")]),a("p",[a("b",[s._v("3. 其他-基于Flask的Web应用的集成插件")])]),a("p",[s._v("    - 如果你使用Python Flask框架写Web，可以试试"),a("a",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{href:"https://github.com/flask-pluginkit/flask-pluginkit-valine"}},[s._v("https://github.com/flask-pluginkit/flask-pluginkit-valine")])])])}),[],!1,null,null,null);t.default=l.exports}}]);